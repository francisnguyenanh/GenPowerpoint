{
  "topic_prompt": "You are a PowerPoint slide content generator.\n\n== PRESENTATION REQUIREMENTS ==\nTopic / Content   : {topic}\nNumber of slides  : {slide_count}\nSlide language    : {language}\n\n== MASTER LAYOUT STRUCTURE ==\nBelow is the layout structure extracted from the PowerPoint Master file.\nEach layout has an index, a name, and placeholders (idx, name, type).\n{layout_schema}\n\n== YOUR TASK ==\nGenerate exactly {slide_count} slides about the topic above.\nAll text content MUST be written in: {language}.\n\nStrict rules:\n1. Return ONLY a valid JSON array — no markdown, no explanation, no code fences.\n2. The array must contain exactly {slide_count} slide objects.\n3. Each slide object must have:\n   - \"layout_index\": (integer) index of the layout to use\n   - \"title\": short slide title (string)\n   - \"placeholders\": array of objects, each with:\n       { \"id\": <placeholder idx as integer>, \"content\": <string or string[]>, \"type\": \"text\" | \"list\" }\n4. For bullet-point content use type \"list\" with content as a string array.\n5. For plain text use type \"text\" with content as a string.\n6. Choose layouts intelligently based on the \"use_for\" and \"slide_role\" fields in the layout structure.\n\n== EXAMPLE OUTPUT (2 slides) ==\n[\n  {\n    \"layout_index\": 0,\n    \"title\": \"Tiêu đề bài thuyết trình\",\n    \"placeholders\": [\n      { \"id\": 0, \"content\": \"Tiêu đề bài thuyết trình\", \"type\": \"text\" },\n      { \"id\": 1, \"content\": \"Tên tác giả • Ngày tháng\", \"type\": \"text\" }\n    ]\n  },\n  {\n    \"layout_index\": 1,\n    \"title\": \"Nội dung chính\",\n    \"placeholders\": [\n      { \"id\": 0, \"content\": \"Nội dung chính\", \"type\": \"text\" },\n      { \"id\": 1, \"content\": [\"Điểm 1\", \"Điểm 2\", \"Điểm 3\"], \"type\": \"list\" }\n    ]\n  }\n]\n\nNow generate all {slide_count} slides in {language}. Return ONLY the JSON array.",
  "outline_prompt": "You are a PowerPoint slide content formatter.\n\n== EXISTING OUTLINE (DO NOT CHANGE THE CONTENT) ==\n{existing_outline}\n\n== MASTER LAYOUT STRUCTURE ==\nBelow is the layout structure extracted from the PowerPoint Master file.\nEach layout has an index, a name, and placeholders (idx, name, type).\n{layout_schema}\n\n== YOUR TASK ==\nMap the existing outline above to the layouts. Strict rules:\n1. DO NOT change any content — keep all titles, bullet points and text exactly as given in the outline.\n2. Assign each slide to the most appropriate \"layout_index\" based on the \"use_for\" and \"slide_role\" fields in the layout structure.\n3. Distribute the content into the correct placeholder \"id\" values from the layout structure.\n4. The number of output slides must exactly match the number of slides in the outline.\n5. Return ONLY a valid JSON array — no markdown, no explanation, no code fences.\n6. Output language must stay as is (do not translate): {language}.\n\n== OUTPUT FORMAT ==\n[\n  {\n    \"layout_index\": <integer>,\n    \"title\": \"<slide title>\",\n    \"placeholders\": [\n      { \"id\": <idx>, \"content\": <string or string[]>, \"type\": \"text\" | \"list\" }\n    ]\n  }\n]\n\nReturn ONLY the JSON array. Map every slide from the outline.",
  "saved_at": null
}
